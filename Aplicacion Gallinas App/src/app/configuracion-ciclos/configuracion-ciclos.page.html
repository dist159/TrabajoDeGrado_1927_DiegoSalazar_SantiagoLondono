<ion-header>
  <ion-toolbar>
    <ion-button slot="start" fill="clear" (click)="back()">
      <ion-icon name="arrow-back"></ion-icon>
    </ion-button>
  </ion-toolbar>
</ion-header>

<ion-content style="--background: #212852; height: 100%;">


  <form #form="ngForm">
    <ion-grid>
      <ion-row color="primary" justify-content-center class="ion-text-center">
        <ion-col align-self-center size-md="6" size-lg="5" size-xs="12">
          <div class="ion-text-center">
            <h3 style="font-family: 'moon';color: white; margin: auto;">Crear ciclo</h3>
          </div>
          <div padding>
            <ion-item>
              <ion-label>Fecha inicial</ion-label>
              <ion-datetime displayFormat="DD-MM-YYYY" placeholder="Seleccionar fecha" (ionChange)="onChange($event)">
              </ion-datetime>
            </ion-item>
            <ion-item>
              <ion-label position="floating"># de pollos</ion-label>
              <ion-input name="nn" type="number" ngModel required [(ngModel)]="numPollos"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label position="floating"># de ciclos</ion-label>
              <ion-input name="nn" type="number" ngModel required [(ngModel)]="numCiclos"></ion-input>
            </ion-item>
          </div>
          <div padding>
            <ion-button style="font-family: 'moon';color: white; margin: auto;" size="large" type="submit"
              (click)="confirmarCiclos()" [disabled]="form.invalid" expand="block">
              confirmar ciclos</ion-button>
          </div>
        </ion-col>
      </ion-row>
      <ion-row class="ion-text-center" >
        <ion-col *ngFor="let item of ciclos" class="ion-text-center" align-self-center size-md="6" size-lg="5"
          size-xs="12">

          <ion-title style="font-family: 'moon';color: white; margin: auto;">
            Ciclo: {{item.num}}
          </ion-title>
          <ion-item>
            <ion-label position="floating">Set point Temperatura</ion-label>
            <ion-input name="x1" type="number" ngModel [(ngModel)]="item.setPointTEMP"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating">Set point Humedad (0-1)</ion-label>
            <ion-input name="x2" type="number" ngModel [(ngModel)]="item.setPointHUM"></ion-input>
          </ion-item>
          <ion-item>
            <ion-label position="floating"># dias</ion-label>
            <ion-input name="x3" type="number" ngModel [(ngModel)]="item.dias"></ion-input>
          </ion-item>

        </ion-col>
        <ion-row padding *ngIf="ciclos" class="ion-text-center" style="width: 100%;">
          <ion-button style="font-family: 'moon';color: white;margin:auto" class="ion-text-center" size="large"
            type="submit" (click)="crearCiclo()" expand="block">Crear ciclo</ion-button>
        </ion-row>

      </ion-row>
    </ion-grid>
  </form>
  <div text-center>
    <ion-row text-center>
    </ion-row>
  </div>



</ion-content>