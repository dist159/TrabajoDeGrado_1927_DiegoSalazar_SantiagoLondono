{"version":3,"sources":["webpack:///src/app/configuracion-ciclos/configuracion-ciclos.page.html","webpack:///src/app/configuracion-ciclos/configuracion-ciclos-routing.module.ts","webpack:///src/app/configuracion-ciclos/configuracion-ciclos.module.ts","webpack:///src/app/configuracion-ciclos/configuracion-ciclos.page.scss","webpack:///src/app/configuracion-ciclos/configuracion-ciclos.page.ts"],"names":["routes","path","component","ConfiguracionCiclosPageRoutingModule","imports","forChild","exports","ConfiguracionCiclosPageModule","declarations","ConfiguracionCiclosPage","_Servicios","storage","navCtrl","get","then","res","idGalpon","ciclos","i","numCiclos","push","num","setPointTEMP","setPointHUM","dias","event","console","log","detail","value","fechaInicial","substring","diaTemp","mesTemp","item","tempDate","Date","setDate","getDate","getUTCDate","getUTCMonth","fechafin","getUTCFullYear","cicloNuevo","numeroCiclos","numPollos","numPollosDead","diasTotales","fechaFinal","CreateCicle","back","date","days","selector","template"],"mappings":"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","file":"configuracion-ciclos-configuracion-ciclos-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-button slot=\\\"start\\\" fill=\\\"clear\\\" (click)=\\\"back()\\\">\\n      <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content style=\\\"--background: #212852; height: 100%;\\\">\\n\\n\\n  <form #form=\\\"ngForm\\\">\\n    <ion-grid>\\n      <ion-row color=\\\"primary\\\" justify-content-center class=\\\"ion-text-center\\\">\\n        <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n          <div class=\\\"ion-text-center\\\">\\n            <h3 style=\\\"font-family: 'moon';color: white; margin: auto;\\\">Crear ciclo</h3>\\n          </div>\\n          <div padding>\\n            <ion-item>\\n              <ion-label>Fecha inicial</ion-label>\\n              <ion-datetime displayFormat=\\\"DD-MM-YYYY\\\" placeholder=\\\"Seleccionar fecha\\\" (ionChange)=\\\"onChange($event)\\\">\\n              </ion-datetime>\\n            </ion-item>\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\"># de pollos</ion-label>\\n              <ion-input name=\\\"nn\\\" type=\\\"number\\\" ngModel required [(ngModel)]=\\\"numPollos\\\"></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\"># de ciclos</ion-label>\\n              <ion-input name=\\\"nn\\\" type=\\\"number\\\" ngModel required [(ngModel)]=\\\"numCiclos\\\"></ion-input>\\n            </ion-item>\\n          </div>\\n          <div padding>\\n            <ion-button style=\\\"font-family: 'moon';color: white; margin: auto;\\\" size=\\\"large\\\" type=\\\"submit\\\"\\n              (click)=\\\"confirmarCiclos()\\\" [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\">\\n              confirmar ciclos</ion-button>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"ion-text-center\\\" >\\n        <ion-col *ngFor=\\\"let item of ciclos\\\" class=\\\"ion-text-center\\\" align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\"\\n          size-xs=\\\"12\\\">\\n\\n          <ion-title style=\\\"font-family: 'moon';color: white; margin: auto;\\\">\\n            Ciclo: {{item.num}}\\n          </ion-title>\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Set point Temperatura</ion-label>\\n            <ion-input name=\\\"x1\\\" type=\\\"number\\\" ngModel [(ngModel)]=\\\"item.setPointTEMP\\\"></ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Set point Humedad (0-1)</ion-label>\\n            <ion-input name=\\\"x2\\\" type=\\\"number\\\" ngModel [(ngModel)]=\\\"item.setPointHUM\\\"></ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\"># dias</ion-label>\\n            <ion-input name=\\\"x3\\\" type=\\\"number\\\" ngModel [(ngModel)]=\\\"item.dias\\\"></ion-input>\\n          </ion-item>\\n\\n        </ion-col>\\n        <ion-row padding *ngIf=\\\"ciclos\\\" class=\\\"ion-text-center\\\" style=\\\"width: 100%;\\\">\\n          <ion-button style=\\\"font-family: 'moon';color: white;margin:auto\\\" class=\\\"ion-text-center\\\" size=\\\"large\\\"\\n            type=\\\"submit\\\" (click)=\\\"crearCiclo()\\\" expand=\\\"block\\\">Crear ciclo</ion-button>\\n        </ion-row>\\n\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n  <div text-center>\\n    <ion-row text-center>\\n    </ion-row>\\n  </div>\\n\\n\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConfiguracionCiclosPage } from './configuracion-ciclos.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConfiguracionCiclosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConfiguracionCiclosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConfiguracionCiclosPageRoutingModule } from './configuracion-ciclos-routing.module';\n\nimport { ConfiguracionCiclosPage } from './configuracion-ciclos.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ConfiguracionCiclosPageRoutingModule\n  ],\n  declarations: [ConfiguracionCiclosPage]\n})\nexport class ConfiguracionCiclosPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbmZpZ3VyYWNpb24tY2ljbG9zL2NvbmZpZ3VyYWNpb24tY2ljbG9zLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { ServiciosGService } from '../servicios-g.service';\nimport { Storage } from '@ionic/storage';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-configuracion-ciclos',\n  templateUrl: './configuracion-ciclos.page.html',\n  styleUrls: ['./configuracion-ciclos.page.scss'],\n})\nexport class ConfiguracionCiclosPage implements OnInit {\n\n  ciclos: any[];\n  fechaInicial: string\n  numPollos: number;\n  numCiclos: number;\n  idGalpon: string;\n\n  constructor(public _Servicios: ServiciosGService,\n    private storage: Storage,\n    public navCtrl: NavController) { }\n\n\n  ngOnInit() {\n    this.storage.get(\"_idGalpon\").then(res => {\n      this.idGalpon = res;\n    })\n  }\n\n  confirmarCiclos() {\n    this.ciclos = []\n    for (let i = 0; i < this.numCiclos; i++) {\n      this.ciclos.push({ num: i + 1, setPointTEMP: \"\", setPointHUM: \"\", dias: \"\" })\n    }\n  }\n\n  onChange(event) {\n    console.log(\"aa: \" + event.detail.value)\n    this.fechaInicial = event.detail.value\n    this.fechaInicial = this.fechaInicial.substring(0, 10)\n  }\n  crearCiclo() {\n    let dias: number = 0;\n    let diaTemp = \"\";\n    let mesTemp = \"\";\n    for (let item of this.ciclos) {\n      dias += item.dias;\n    }\n    let tempDate: Date = new Date(this.fechaInicial);\n    tempDate.setDate(tempDate.getDate() + dias)\n    console.log(tempDate.getUTCDate());\n    if (tempDate.getUTCDate() < 10) {\n      diaTemp = \"0\" + tempDate.getUTCDate();\n    } else {\n      diaTemp = \"\" + tempDate.getUTCDate();\n    }\n    if (tempDate.getUTCMonth() < 10) {\n      mesTemp = \"0\" + tempDate.getUTCMonth();\n    } else {\n      mesTemp = \"\" + tempDate.getUTCMonth();\n    }\n    let fechafin = diaTemp + \"-\" + mesTemp + \"-\" + tempDate.getUTCFullYear();\n    console.log(fechafin);\n    const cicloNuevo = {\n      fechaInicial: this.fechaInicial, numeroCiclos: this.numCiclos,\n      ciclos: this.ciclos, numPollos: this.numPollos, numPollosDead: 0, diasTotales: dias, fechaFinal: fechafin\n    };\n    this._Servicios.CreateCicle(cicloNuevo, this.idGalpon);\n  }\n  back() {\n    this.navCtrl.back();\n  }\n\n  addDays(date: Date, days: number) {\n    date.setDate(date.getDate() + days);\n    console.log(date);\n    return date;\n  }\n\n}\n"]}