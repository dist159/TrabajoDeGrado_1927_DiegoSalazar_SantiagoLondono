{"version":3,"sources":["./src/app/mainmenu/mainmenu.page.html","./src/app/mainmenu/mainmenu-routing.module.ts","./src/app/mainmenu/mainmenu.module.ts","./src/app/mainmenu/mainmenu.page.scss","./src/app/mainmenu/mainmenu.page.ts"],"names":[],"mappings":"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","file":"mainmenu-mainmenu-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title style=\\\"font-family: 'letra3';\\\">\\n      Gallinas App\\n    </ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-button (click)=\\\"openEnd()\\\">\\n        <ion-icon style=\\\"color: rgb(126, 81, 81);\\\" slot=\\\"icon-only\\\" name=\\\"menu\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<!-- -----------------------------------MENU ---------------------------------->\\n<ion-menu side=\\\"start\\\" menuId=\\\"custom\\\" class=\\\"my-custom-menu\\\" type=\\\"overlay\\\">\\n  <ion-header>\\n    <ion-toolbar>\\n      <ion-item style=\\\"border: 3px solid rgb(134, 83, 83)(139, 92, 92) !important;--background:black\\\">\\n\\n        <ion-grid class=\\\"grida\\\" style=\\\"width: 100%; flex-direction: column\\\">\\n          <ion-row>\\n            <div class=\\\"ion-text-center\\\" style=\\\"width: 100%; flex-direction: column\\\">\\n              <ion-title *ngIf=\\\"UsuarioLocal\\\" style=\\\"color: white;\\\">{{UsuarioLocal.nombre}} {{UsuarioLocal.apellido}}\\n              </ion-title>\\n            </div>\\n          </ion-row>\\n        </ion-grid>\\n      </ion-item>\\n    </ion-toolbar>\\n  </ion-header>\\n  <ion-content>\\n    <ion-list>\\n\\n\\n      <ion-item (click)=\\\"ayuda()\\\">\\n        <ion-icon name=\\\"help\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label>Ayuda</ion-label>\\n      </ion-item>\\n\\n      <ion-item (click)=\\\"cerrar()\\\">\\n        <ion-icon name=\\\"log-out\\\" slot=\\\"start\\\"></ion-icon>\\n        <ion-label style=\\\"font-family: 'labase3'\\\">Cerrar Sesión</ion-label>\\n      </ion-item>\\n      <div padding style=\\\"background: #ffffff; margin-top: 1%;\\\">\\n\\n\\n\\n      </div>\\n    </ion-list>\\n  </ion-content>\\n</ion-menu>\\n<ion-router-outlet main></ion-router-outlet>\\n\\n\\n<ion-content style=\\\"--background: #212852; height: 100%;\\\">\\n  <!--\\n<div class=\\\"ion-text-center\\\">\\n  <ion-button  class=\\\"ion-text-center\\\" style=\\\"width: 100px; height: 100px; margin: auto;\\\" (click)=\\\"agregarPollosMuertos()\\\">\\n    <img style=\\\"width: 100px;height: 100px;\\\"src=\\\"../../assets/imagenes/chicken_line-28-512.png\\\">\\n     <ion-text>{{deadChicken}} </ion-text>\\n  </ion-button>\\n</div>\\n-->\\n  <div class=\\\"ion-text-center\\\">\\n    <h2 padding style=\\\"color: white;\\\">Sensor 1</h2>\\n    <div text-center>\\n      <circle-progress [percent]=\\\"temperatura\\\" [radius]=\\\"60\\\" [outerStrokeWidth]=\\\"10\\\" [innerStrokeWidth]=\\\"7\\\"\\n        [outerStrokeColor]=\\\"'#ff7514'\\\" [innerStrokeColor]=\\\"'#C7E596'\\\" [animation]=\\\"true\\\" [animationDuration]=\\\"300\\\"\\n        [subtitle]=\\\"'Temperatura'\\\" [units]=\\\"'°C'\\\" [unitsColor]=\\\"'#ffffff'\\\" [titleColor]=\\\"'#ffffff'\\\"></circle-progress>\\n\\n      <circle-progress [percent]=\\\"humedad\\\" [radius]=\\\"60\\\" [outerStrokeWidth]=\\\"10\\\" [innerStrokeWidth]=\\\"7\\\"\\n        [outerStrokeColor]=\\\"'#256d7b'\\\" [innerStrokeColor]=\\\"'#C7E596'\\\" [animation]=\\\"true\\\" [animationDuration]=\\\"300\\\"\\n        [subtitle]=\\\"'Humedad'\\\" [units]=\\\"'°C'\\\" [unitsColor]=\\\"'#ffffff'\\\" [titleColor]=\\\"'#ffffff'\\\"></circle-progress>\\n    </div>\\n\\n  </div>\\n\\n  <div class=\\\"ion-text-center\\\">\\n    <h2 padding style=\\\"color: white;\\\">Sensor 2</h2>\\n    <div text-center>\\n      <circle-progress [percent]=\\\"temperatura2\\\" [radius]=\\\"60\\\" [outerStrokeWidth]=\\\"10\\\" [innerStrokeWidth]=\\\"7\\\"\\n        [outerStrokeColor]=\\\"'#ff7514'\\\" [innerStrokeColor]=\\\"'#C7E596'\\\" [animation]=\\\"true\\\" [animationDuration]=\\\"300\\\"\\n        [subtitle]=\\\"'Temperatura'\\\" [units]=\\\"'°C'\\\"[unitsColor]=\\\"'#ffffff'\\\" [titleColor]=\\\"'#ffffff'\\\"></circle-progress>\\n\\n      <circle-progress [percent]=\\\"humedad2\\\" [radius]=\\\"60\\\" [outerStrokeWidth]=\\\"10\\\" [innerStrokeWidth]=\\\"7\\\"\\n        [outerStrokeColor]=\\\"'#256d7b'\\\" [innerStrokeColor]=\\\"'#C7E596'\\\" [animation]=\\\"true\\\" [animationDuration]=\\\"300\\\"\\n        [subtitle]=\\\"'Humedad'\\\" [units]=\\\"'°C'\\\" [unitsColor]=\\\"'#ffffff'\\\" [titleColor]=\\\"'#ffffff'\\\"></circle-progress>\\n    </div>\\n\\n  </div>\\n\\n\\n  <div class=\\\"ion-text-center\\\">\\n    <h2 padding style=\\\"color: white;\\\">Sensor 3</h2>\\n\\n\\n\\n\\n    <div text-center>\\n      <circle-progress [percent]=\\\"temperatura3\\\" [radius]=\\\"60\\\" [outerStrokeWidth]=\\\"10\\\" [innerStrokeWidth]=\\\"7\\\"\\n        [outerStrokeColor]=\\\"'#ff7514'\\\" [innerStrokeColor]=\\\"'#C7E596'\\\" [animation]=\\\"true\\\" [animationDuration]=\\\"300\\\"\\n        [subtitle]=\\\"'Temperatura'\\\" [units]=\\\"'°C'\\\" [unitsColor]=\\\"'#ffffff'\\\" [titleColor]=\\\"'#ffffff'\\\"></circle-progress>\\n\\n      <circle-progress [percent]=\\\"humedad3\\\" [radius]=\\\"60\\\" [outerStrokeWidth]=\\\"10\\\" [innerStrokeWidth]=\\\"7\\\"\\n        [outerStrokeColor]=\\\"'#256d7b'\\\" [innerStrokeColor]=\\\"'#C7E596'\\\" [animation]=\\\"true\\\" [animationDuration]=\\\"300\\\"\\n        [subtitle]=\\\"'Humedad'\\\" [units]=\\\"'°C'\\\" [unitsColor]=\\\"'#ffffff'\\\" [titleColor]=\\\"'#ffffff'\\\"></circle-progress>\\n    </div>\\n\\n  </div>\\n\\n\\n\\n\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MainmenuPage } from './mainmenu.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MainmenuPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MainmenuPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MainmenuPageRoutingModule } from './mainmenu-routing.module';\n\nimport { MainmenuPage } from './mainmenu.page';\nimport { NgCircleProgressModule } from 'ng-circle-progress';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MainmenuPageRoutingModule,\n    NgCircleProgressModule\n  ],\n  declarations: [MainmenuPage]\n})\nexport class MainmenuPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21haW5tZW51L21haW5tZW51LnBhZ2Uuc2NzcyJ9 */\";","/* mainmenu.page **************************************************************/\n/*                                                                            */\n/*                       Pagina mainmenu (funciones)                          */\n/*                                                                            */\n/******************************************************************************/\n\n/*******************************************************************************\n\n    Notas:           Codigo de las funciones de la pagina mainmenu. Esta pagina \n                     es la pagina principal al iniciar sesion. Tiene un menu \n                     lateral para acceder a otra paginas y la lectura basica \n                     de los sensores de x galpon.\n\n    Registro de Revisiones:\n\n    FECHA      RESPONSABLE  REVISION\n    -----------------------------------------------------------------------\n    Mar 05/20  S.Londoño    Implementacion original\n\n    Mar 05/20  D.Salazar    Implementacion original\n\n\n*******************************************************************************/\n\nimport { Component, OnInit } from '@angular/core';\nimport { AngularFireDatabase } from '@angular/fire/database';\nimport { MenuController, NavController, AlertController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { ServiciosGService, usuario } from '../servicios-g.service';\n\n@Component({\n  selector: 'app-mainmenu',\n  templateUrl: './mainmenu.page.html',\n  styleUrls: ['./mainmenu.page.scss'],\n})\nexport class MainmenuPage implements OnInit {\n\n  /* Variables para los sensores */\n  humedad: number = 0;\n  temperatura: number = 0;\n  humedad2: number = 0;\n  temperatura2: number = 0;\n  humedad3: number = 0;\n  temperatura3: number = 0;\n  contador: any = 200;\n  /*Variables del usuario*/\n  UsuarioLocal: usuario;\n  idGalpon: string;\n\n  deadChicken:number=0;\n  constructor(\n    private menu: MenuController,\n    public navCtrl: NavController,\n    public _Servicios: ServiciosGService,\n    private storage: Storage,\n    private db: AngularFireDatabase,\n    public alertCtrl: AlertController) { }\n\n  ngOnInit() {\n\n    /** Carga directamente los datos del servidor almacenados para cada uno de los sensosres */\n    /** Se obtiene el objeto de usuario y se determina el galpon */\n    this._Servicios.userState().subscribe((user: firebase.User) => {\n      const _getUsuario = this._Servicios.getUsuario(user.uid).subscribe(res => {\n        this.UsuarioLocal = res.payload.val() as usuario;\n        this.idGalpon = this.UsuarioLocal.galponid;\n        this.storage.set('_idGalpon', this.idGalpon);\n        console.log(this.idGalpon)\n\n        this._Servicios.getChickenLost(this.idGalpon).subscribe(res =>{\n          //this.deadChicken=null;\n          this.deadChicken=res as number;\n        })\n\n        /** Determina el contador para asiganarlo como un indice y obtener el ultimo dato almacenado en el servidor */\n        this.db.object(\"Galpones/\" + this.idGalpon + \"/\" + 'contador').snapshotChanges().subscribe(action => {\n          console.log(action.type);\n          console.log(action.key)\n          console.log(action.payload.val())\n         // this.contador = action.payload.val() as number;\n\n          /** Se obtiene el ultimo dato almacenado en la base de datos para la temperatura de x galpon para el sensor 1 */\n          this.db.object(\"Galpones/\" + this.idGalpon + \"/\" + \"SensorTemp1/\" + (this.contador - 1) + \"/val\").snapshotChanges().subscribe(action => {\n            console.log(action.type);\n            console.log(action.key)\n            console.log(action.payload.val())\n            this.temperatura = action.payload.val() as number\n          });\n\n          /** Se obtiene el ultimo dato almacenado en la base de datos para la humedad de x galpon para el sensor 1 */\n          this.db.object(\"Galpones/\" + this.idGalpon + \"/\" + \"SensorHum1/\" + (this.contador - 1) + \"/val\").snapshotChanges().subscribe(action => {\n            console.log(action.type);\n            console.log(action.key)\n            console.log(action.payload.val())\n            this.humedad = action.payload.val() as number\n          });\n\n          /** Se obtiene el ultimo dato almacenado en la base de datos para la temperatura de x galpon para el sensor 2 */\n          this.db.object(\"Galpones/\" + this.idGalpon + \"/\" + \"SensorTemp2/\" + (this.contador - 1) + \"/val\").snapshotChanges().subscribe(action => {\n            console.log(action.type);\n            console.log(action.key)\n            console.log(action.payload.val())\n            this.temperatura2 = action.payload.val() as number\n          });\n\n          /** Se obtiene el ultimo dato almacenado en la base de datos para la humedad de x galpon para el sensor 2 */\n          this.db.object(\"Galpones/\" + this.idGalpon + \"/\" + \"SensorHum2/\" + (this.contador - 1) + \"/val\").snapshotChanges().subscribe(action => {\n            console.log(action.type);\n            console.log(action.key)\n            console.log(action.payload.val())\n            this.humedad2 = action.payload.val() as number\n          });\n\n          /** Se obtiene el ultimo dato almacenado en la base de datos para la temperatura de x galpon para el sensor 3 */\n          this.db.object(\"Galpones/\" + this.idGalpon + \"/\" + \"SensorTemp3/\" + (this.contador - 1) + \"/val\").snapshotChanges().subscribe(action => {\n            console.log(action.type);\n            console.log(action.key)\n            console.log(action.payload.val())\n            this.temperatura3 = action.payload.val() as number\n          });\n\n          /** Se obtiene el ultimo dato almacenado en la base de datos para la humedad de x galpon para el sensor 3 */\n          this.db.object(\"Galpones/\" + this.idGalpon + \"/\" + \"SensorHum3/\" + (this.contador - 1) + \"/val\").snapshotChanges().subscribe(action => {\n            console.log(action.type);\n            console.log(action.key)\n            console.log(action.payload.val())\n            this.humedad3 = action.payload.val() as number\n          });\n        });\n        _getUsuario.unsubscribe();\n      });\n    });\n  }\n\n  /*FN****************************************************************************\n  *\n  *   void userState()\n  *\n  *   Retorna:         El estado de la autenticidad del ususario\n  *\n  *   Proposito:       Permite obtener el estado de la autenticidad del usuario \n  *                    verificando si la sesion esta iniciada.  \n  *\n  *******************************************************************************/\n  control() {\n    this.navCtrl.navigateRoot('/home');\n  }\n\n  /*FN****************************************************************************\n  *\n  *   void openHeatMap()\n  *\n  *   Retorna:         Nada\n  *\n  *   Proposito:       Navega a la pagina heatmap. \n  *\n  *******************************************************************************/\n  openHeatMap() {\n    this.navCtrl.navigateRoot('/heatmap');\n  }\n\n  /*FN****************************************************************************\n  *\n  *   void openEnd()\n  *\n  *   Retorna:         Nada\n  *\n  *   Proposito:       Abre el menu lateral.\n  *\n  *******************************************************************************/\n  openEnd() {\n    this.menu.toggle('custom');\n  }\n\n  /*FN****************************************************************************\n  *\n  *   void cerrar()\n  *\n  *   Retorna:         Nada\n  *\n  *   Proposito:       Cierra la sesion al borrar las credenciales del usuario \n  *                    y modifica la bandera de la sesion iniciada.  \n  *\n  *******************************************************************************/\n  cerrar() {\n    this.storage.set('log', 'no');\n    this._Servicios.cerrarSesion();\n    this.navCtrl.navigateRoot('/iniciar-sesion');\n\n  }\n  config() {\n\n  }\n\n  ayuda() {\n\n  }\n\n  agregarPollosMuertos() {\n    this.presentAlert();\n  }\n\n\n  //Alerta inicial\n  async presentAlert() {\n    const alert = await this.alertCtrl.create({\n      header: 'Pollos perdido',\n      message: 'ingrese la cantidad de pollos perdidod',\n      inputs: [\n        {\n          name: 'muertos',\n          type: 'number',\n        },\n\n      ],\n      buttons: [{\n        text: 'Si',\n        handler: (data) => {\n          this.deadChicken+=this.convertToNumber(data.muertos);\n          console.log(this.deadChicken)\n          this._Servicios.setChickenLost(this.idGalpon,(this.deadChicken)); \n        }\n      }],\n      translucent: true,\n      backdropDismiss: false\n    });\n    await alert.present();\n  }\n\n  public convertToNumber(event):number {  return +event; }\n}\n"],"sourceRoot":"webpack:///"}