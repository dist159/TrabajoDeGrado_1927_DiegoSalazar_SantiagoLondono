{"version":3,"sources":["./src/app/configuracion-ciclos/configuracion-ciclos.page.html","./src/app/configuracion-ciclos/configuracion-ciclos-routing.module.ts","./src/app/configuracion-ciclos/configuracion-ciclos.module.ts","./src/app/configuracion-ciclos/configuracion-ciclos.page.scss","./src/app/configuracion-ciclos/configuracion-ciclos.page.ts"],"names":[],"mappings":"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","file":"configuracion-ciclos-configuracion-ciclos-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-button slot=\\\"start\\\" fill=\\\"clear\\\" (click)=\\\"back()\\\">\\n      <ion-icon name=\\\"arrow-back\\\"></ion-icon>\\n    </ion-button>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content style=\\\"--background: #212852; height: 100%;\\\">\\n\\n\\n  <form #form=\\\"ngForm\\\">\\n    <ion-grid>\\n      <ion-row color=\\\"primary\\\" justify-content-center class=\\\"ion-text-center\\\">\\n        <ion-col align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\" size-xs=\\\"12\\\">\\n          <div class=\\\"ion-text-center\\\">\\n            <h3 style=\\\"font-family: 'moon';color: white; margin: auto;\\\">Crear ciclo</h3>\\n          </div>\\n          <div padding>\\n            <ion-item>\\n              <ion-label>Fecha inicial</ion-label>\\n              <ion-datetime displayFormat=\\\"DD-MM-YYYY\\\" placeholder=\\\"Seleccionar fecha\\\" (ionChange)=\\\"onChange($event)\\\">\\n              </ion-datetime>\\n            </ion-item>\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\"># de pollos</ion-label>\\n              <ion-input name=\\\"nn\\\" type=\\\"number\\\" ngModel required [(ngModel)]=\\\"numPollos\\\"></ion-input>\\n            </ion-item>\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\"># de ciclos</ion-label>\\n              <ion-input name=\\\"nn\\\" type=\\\"number\\\" ngModel required [(ngModel)]=\\\"numCiclos\\\"></ion-input>\\n            </ion-item>\\n          </div>\\n          <div padding>\\n            <ion-button style=\\\"font-family: 'moon';color: white; margin: auto;\\\" size=\\\"large\\\" type=\\\"submit\\\"\\n              (click)=\\\"confirmarCiclos()\\\" [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\">\\n              confirmar ciclos</ion-button>\\n          </div>\\n        </ion-col>\\n      </ion-row>\\n      <ion-row class=\\\"ion-text-center\\\" >\\n        <ion-col *ngFor=\\\"let item of ciclos\\\" class=\\\"ion-text-center\\\" align-self-center size-md=\\\"6\\\" size-lg=\\\"5\\\"\\n          size-xs=\\\"12\\\">\\n\\n          <ion-title style=\\\"font-family: 'moon';color: white; margin: auto;\\\">\\n            Ciclo: {{item.num}}\\n          </ion-title>\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Set point Temperatura</ion-label>\\n            <ion-input name=\\\"x1\\\" type=\\\"number\\\" ngModel [(ngModel)]=\\\"item.setPointTEMP\\\"></ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">Set point Humedad (0-1)</ion-label>\\n            <ion-input name=\\\"x2\\\" type=\\\"number\\\" ngModel [(ngModel)]=\\\"item.setPointHUM\\\"></ion-input>\\n          </ion-item>\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\"># dias</ion-label>\\n            <ion-input name=\\\"x3\\\" type=\\\"number\\\" ngModel [(ngModel)]=\\\"item.dias\\\"></ion-input>\\n          </ion-item>\\n\\n        </ion-col>\\n        <ion-row padding *ngIf=\\\"ciclos\\\" class=\\\"ion-text-center\\\" style=\\\"width: 100%;\\\">\\n          <ion-button style=\\\"font-family: 'moon';color: white;margin:auto\\\" class=\\\"ion-text-center\\\" size=\\\"large\\\"\\n            type=\\\"submit\\\" (click)=\\\"crearCiclo()\\\" expand=\\\"block\\\">Crear ciclo</ion-button>\\n        </ion-row>\\n\\n      </ion-row>\\n    </ion-grid>\\n  </form>\\n  <div text-center>\\n    <ion-row text-center>\\n    </ion-row>\\n  </div>\\n\\n\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ConfiguracionCiclosPage } from './configuracion-ciclos.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ConfiguracionCiclosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ConfiguracionCiclosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ConfiguracionCiclosPageRoutingModule } from './configuracion-ciclos-routing.module';\n\nimport { ConfiguracionCiclosPage } from './configuracion-ciclos.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ConfiguracionCiclosPageRoutingModule\n  ],\n  declarations: [ConfiguracionCiclosPage]\n})\nexport class ConfiguracionCiclosPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2NvbmZpZ3VyYWNpb24tY2ljbG9zL2NvbmZpZ3VyYWNpb24tY2ljbG9zLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { ServiciosGService } from '../servicios-g.service';\nimport { Storage } from '@ionic/storage';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-configuracion-ciclos',\n  templateUrl: './configuracion-ciclos.page.html',\n  styleUrls: ['./configuracion-ciclos.page.scss'],\n})\nexport class ConfiguracionCiclosPage implements OnInit {\n\n  ciclos: any[];\n  fechaInicial: string\n  numPollos: number;\n  numCiclos: number;\n  idGalpon: string;\n\n  constructor(public _Servicios: ServiciosGService,\n    private storage: Storage,\n    public navCtrl: NavController) { }\n\n\n  ngOnInit() {\n    this.storage.get(\"_idGalpon\").then(res => {\n      this.idGalpon = res;\n    })\n  }\n\n  confirmarCiclos() {\n    this.ciclos = []\n    for (let i = 0; i < this.numCiclos; i++) {\n      this.ciclos.push({ num: i + 1, setPointTEMP: \"\", setPointHUM: \"\", dias: \"\" })\n    }\n  }\n\n  onChange(event) {\n    console.log(\"aa: \" + event.detail.value)\n    this.fechaInicial = event.detail.value\n    this.fechaInicial = this.fechaInicial.substring(0, 10)\n  }\n  crearCiclo() {\n    let dias: number = 0;\n    let diaTemp = \"\";\n    let mesTemp = \"\";\n    for (let item of this.ciclos) {\n      dias += item.dias;\n    }\n    let tempDate: Date = new Date(this.fechaInicial);\n    tempDate.setDate(tempDate.getDate() + dias)\n    console.log(tempDate.getUTCDate());\n    if (tempDate.getUTCDate() < 10) {\n      diaTemp = \"0\" + tempDate.getUTCDate();\n    } else {\n      diaTemp = \"\" + tempDate.getUTCDate();\n    }\n    if (tempDate.getUTCMonth() < 10) {\n      mesTemp = \"0\" + tempDate.getUTCMonth();\n    } else {\n      mesTemp = \"\" + tempDate.getUTCMonth();\n    }\n    let fechafin = diaTemp + \"-\" + mesTemp + \"-\" + tempDate.getUTCFullYear();\n    console.log(fechafin);\n    const cicloNuevo = {\n      fechaInicial: this.fechaInicial, numeroCiclos: this.numCiclos,\n      ciclos: this.ciclos, numPollos: this.numPollos, numPollosDead: 0, diasTotales: dias, fechaFinal: fechafin\n    };\n    this._Servicios.CreateCicle(cicloNuevo, this.idGalpon);\n  }\n  back() {\n    this.navCtrl.back();\n  }\n\n  addDays(date: Date, days: number) {\n    date.setDate(date.getDate() + days);\n    console.log(date);\n    return date;\n  }\n\n}\n"],"sourceRoot":"webpack:///"}